{% extends 'iSkyLIMS_wetlab/base.html' %}
{% load static %}_
{% block content %}
{% csrf_token %}
<BR>
{% if new_setting_defined %}
    <div class="row row-space-2 margin-b-4">
        <div class="col-sm-12" >

                <div class="col-sm-6" >
                    <div class="panel panel-default">
                        <div class="panel-heading"><h3>New {{new_setting_defined.settings}} , <strong>{{new_setting_defined.value}}</strong> was defined</h3> </div>
                        <div class="panel-body">
                            <br>
                        </div>  <!--  end of panel body  -->
                    </div> <!--// end panel -->
                </div> <!--// end col-sm-6 -->

        </div> <!--// end of sm-12 -->
    </div> <!--// end row -->
{% endif %}
{% if ERROR %}
    <div class="row row-space-2 margin-b-4">
        <div class="col-sm-12" >

                <div class="col-sm-6" >
                    <div class="panel panel-danger">
                        <div class="panel-heading"><h3> {{ERROR.0.0}} </h3> </div>
                        <div class="panel-body">
                            <br>
                            <p>The <strong>{{ERROR.1}}</strong> {{ERROR.0.0}}</p>
                        </div>  <!--  end of panel body  -->
                    </div> <!--// end panel -->
                </div> <!--// end col-sm-6 -->

        </div> <!--// end of sm-12 -->
    </div> <!--// end row -->
{% endif %}

<div class="row row-space-2 margin-b-4">
    <div class="col-sm-12" >
        <h3>Define the Inital Settings</h3>
        <div class="tab">
            <button class="tablinks" onclick="summaryBin(event, 'species')" id="defaultOpen">Species</button>
            <button class="tablinks" onclick="summaryBin(event, 'samples')">Samples Origin</button>
            <button class="tablinks" onclick="summaryBin(event, 'molecule')">Molecule Type</button>
            <button class="tablinks" onclick="summaryBin(event, 'protocol')">Protocol Type</button>


            <div id="species" class="tabcontent">
                <div class="col-sm-11">
                    <div class="col-sm-8">
                        <br><br>
                        <div class="panel panel-default">
                            <div class="panel-heading"><h3>Define new Specie </h3></div>
                            <div class="panel-body">
                                <form method="post" enctype="multipart/form-data" name="defineNewSpecie" id="defineNewSpecie" class="form-horizontal">
                                    {% csrf_token %}
                                    <div class="form-group required">
                                        <input type="hidden" name="action" value="defineNewSpecie"/>
                                        <label class="col-sm-5 control-label">Define new Specie</label>
                                        <div class="col-sm-6"><input class="form-control" required = "required" type="text"  name="specieName" size="80"></div>
                                        <BR> <BR>
                                    </div>
                                    <input class="btn pull-right btn-primary" type="submit" value="Submit" id="btnSubmit">
                                </form>
                            </div> <!--  end of panel body -->
                        </div> <!--  end of panel  -->
                    </div> <!--  end of col-sm-6 -->
                    <div class="col-sm-4">
                        <br><br>
                        <div class="panel panel-default">
                            <div class="panel-heading"><h3>Species defined</h3></div>
                            <div class="panel-body">
                                {% if initial_data.species_data %}
                                    <table class="table table-hover">
                                       <thead>
                                          <tr>
                                            <th>Specie Name</th>

                                          </tr>
                                       </thead>
                                       <tbody>
                                        {% for name , id in initial_data.species_data %}
                                            <tr>
                                                <td>{{name}}</td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                {% else %}
                                    <h5>No Species have been defined yet</h5>
                                {% endif %}
                            </div> <!-- end of panel body -->
                        </div> <!--  end of panel  -->
                    </div> <!--  end of col-sm-6 -->
                </div>  <!--  end of col-sm-11 -->
            </div> <!--  end of species -->

            <div id="samples" class="tabcontent">
                <div class="col-sm-12">
                    <div class="col-sm-7">
                        <br><br>
                        <div class="panel panel-default">
                            <div class="panel-heading"><h3>Define new Origin from the samples </h3></div>
                            <div class="panel-body">
                                <form method="post" enctype="multipart/form-data" name="defineNewSampleOrigin" id="defineNewSampleOrigin" class="form-horizontal">
                                    {% csrf_token %}
                                    <div class="form-group required">
                                        <input type="hidden" name="action" value="defineNewSampleOrigin"/>
                                        <label class="col-sm-5 control-label">Define new Origin</label>
                                        <div class="col-sm-6"><input class="form-control" required = "required" type="text"  name="originName" size="80"></div>
                                        <BR> <BR>
                                        <label class="col-sm-5 control-label">Define origin coding name</label>
                                        <div class="col-sm-6"><input class="form-control" required = "required" type="text"  name="originCoding" size="80"></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-5 control-label">Define location data</label>
                                        <div class="col-sm-6"><input class="form-control" type="text"  name="originLocation" size="80"></div>
                                    </div>
                                    <input class="btn pull-right btn-primary" type="submit" value="Submit" id="btnSubmit">
                                </form>
                            </div> <!--  end of panel body -->
                        </div> <!--  end of panel  -->
                    </div> <!--  end of col-sm-8 -->
                    <div class="col-sm-5">
                        <br><br>
                        <div class="panel panel-default">
                            <div class="panel-heading"><h3>Sample origin defined</h3></div>
                            <div class="panel-body">
                                {% if initial_data.samples_origin_data %}
                                    <table class="table table-hover">
                                       <thead>
                                          <tr>
                                            <th>Sample Origin</th>
                                            <th>Origin code</th>
                                          </tr>
                                       </thead>
                                       <tbody>
                                        {% for name, code, id in initial_data.samples_origin_data %}
                                            <tr>
                                                <td>{{name}}</td>
                                                <td>{{code}}</td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                {% else %}
                                    <h5>No Samples origin have been defined yet</h5>
                                {% endif %}
                            </div> <!-- end of panel body -->
                        </div> <!--  end of panel  -->
                    </div> <!--  end of col-sm-4 -->
                </div>  <!--  end of col-sm-11 -->
            </div> <!--  end of samples -->

            <div id="molecule" class="tabcontent">
                <div class="col-sm-11">
                    <div class="col-sm-8">
                        <br><br>
                        <div class="panel panel-default">
                            <div class="panel-heading"><h3>Define new Molecule type </h3></div>
                            <div class="panel-body">
                                <form method="post" enctype="multipart/form-data" name="defineMoleculeType" id="defineMoleculeType" class="form-horizontal">
                                    {% csrf_token %}
                                    <div class="form-group required">
                                        <input type="hidden" name="action" value="defineMoleculeType"/>
                                        <label class="col-sm-5 control-label">Define new Molecule type</label>
                                        <div class="col-sm-6"><input class="form-control" required = "required" type="text"  name="moleculeName" size="80"></div>
                                        <BR> <BR>
                                    </div>
                                    <input class="btn pull-right btn-primary" type="submit" value="Submit" id="btnSubmit">
                                </form>
                            </div> <!--  end of panel body -->
                        </div> <!--  end of panel  -->
                    </div> <!--  end of col-sm-8 -->
                    <div class="col-sm-4">
                        <br><br>
                        <div class="panel panel-default">
                            <div class="panel-heading"><h3>Molecule types defined</h3></div>
                            <div class="panel-body">
                                {% if initial_data.molecule_type_data %}
                                    <table class="table table-hover">
                                       <thead>
                                          <tr>
                                            <th>Molecule Type</th>
                                          </tr>
                                       </thead>
                                       <tbody>
                                        {% for name , id in initial_data.molecule_type_data %}
                                            <tr>
                                                <td>{{name}}</td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                {% else %}
                                    <h5>No Molecule type have been defined yet</h5>
                                {% endif %}
                            </div> <!-- end of panel body -->
                        </div> <!--  end of panel  -->
                    </div> <!--  end of col-sm-4 -->
                </div>  <!--  end of col-sm-11 -->
            </div> <!--  end of molecule -->

            <div id="protocol" class="tabcontent">
                <div class="col-sm-11">
                    <div class="col-sm-8">
                        <br><br>
                        <div class="panel panel-default">
                            <div class="panel-heading"><h3>Define new Protocol Type</h3></div>
                            <div class="panel-body">
                                <form method="post" enctype="multipart/form-data" name="defineProtocolType" id="defineProtocolType" class="form-horizontal">
                                    {% csrf_token %}
                                    <div class="form-group required">
                                        <input type="hidden" name="action" value="defineProtocolType"/>
                                        <label class="col-sm-5 control-label">Define new Protocol type</label>
                                        <div class="col-sm-6"><input class="form-control" required = "required" type="text"  name="protocolName" size="80"></div>
                                        <BR> <BR>
                                        <label class="col-sm-5 control-label">Select the Molecule type used for the protocol type</label>
                                        <div class="col-sm-6">
                                            <select class="form-control" required = "required" name="moleculeType" id="moleculeType">
                                                <option value="">Select an option</option>
                                                <option value="None">None</option>
                                                {% for value , id in initial_data.molecule_type_data %}
                                                    <option value="{{value}}">{{value}}</option>
                                                {% endfor %}
                                            </select>
                                        </div>  <!-- end select input -->
                                    </div>
                                    <input class="btn pull-right btn-primary" type="submit" value="Submit" id="btnSubmit">
                                </form>
                            </div> <!--  end of panel body -->
                        </div> <!--  end of panel  -->
                    </div> <!--  end of col-sm-8 -->
                    <div class="col-sm-4">
                        <br><br>
                        <div class="panel panel-default">
                            <div class="panel-heading"><h3>Protocol types defined</h3></div>
                            <div class="panel-body">
                                {% if initial_data.protocol_type_data %}
                                    <table class="table table-hover">
                                       <thead>
                                          <tr>
                                            <th>Protocol Type</th>
                                            <th>Molecule Type</th>
                                          </tr>
                                       </thead>
                                       <tbody>
                                        {% for name , id, molecule in initial_data.protocol_type_data %}
                                            <tr>
                                                <td>{{name}}</td>
                                                <td>{{molecule}}</td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                {% else %}
                                    <h5>No Protocol type have been defined yet</h5>
                                {% endif %}
                            </div> <!-- end of panel body -->
                        </div> <!--  end of panel  -->
                    </div> <!--  end of col-sm-4 -->
                </div>  <!--  end of col-sm-11 -->
            </div> <!--  end of molecule -->

        </div> <!--  end of tab -->
    </div> <!--// end col-sm-12  -->
</div> <!--// end row -->
<script>
    // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();
</script>
{% endblock %}
